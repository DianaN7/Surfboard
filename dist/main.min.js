"use strict";!function(){var e=document.querySelector(".hamburger"),n=document.querySelector(".burger-menu"),t=document.querySelector(".burger-menu__close"),a=document.querySelectorAll(".burger-menu__link"),i=document.querySelector(".body"),o=document.querySelector("section");e.addEventListener("click",function(e){e.preventDefault(),n.classList.add("burger-menu-active"),i.classList.add("body_closed"),o.classList.remove("active")}),a.forEach(function(t){t.addEventListener("click",function(e){a.forEach(function(e){e.classList.remove("burger-link-active")}),t.classList.add("burger-link-active"),t.classList.contains("burger-link-active")&&n.classList.remove("burger-menu-active")})}),t.addEventListener("click",function(e){e.preventDefault(),n.classList.remove("burger-menu-active"),i.classList.remove("body_closed"),o.classList.add("active")})}(),function(){var e;ymaps.ready(function(){e=new ymaps.Map("map",{center:[55.752004,37.576133],zoom:14,controls:[]});var t=new ymaps.GeoObjectCollection({},{draggable:!1,iconLayout:"default#image",iconImageHref:"/src/img/marker.svg",iconImageSize:[46,58],iconImageOffset:[-35,-52]});[[55.752004,37.576133]].forEach(function(e){t.add(new ymaps.Placemark(e))}),e.geoObjects.add(t),e.behaviors.disable("scrollZoom")})}(),function(){function a(e){var t=e.find(".products-menu__item"),e=e.find(".products-menu__content");t.removeClass("active"),e.width(0)}function i(e){var t,n,a,i,o=e.find(".products-menu__content"),r=e.find(".products-menu__content-main"),c=(t=e,n=0,c=$(window).width(),a=(a=t.closest(".products-menu").find(".products-menu__title")).width()*a.length,t=t.find(".products-menu__content-main"),i=parseInt(t.css("padding-left")),t=parseInt(t.css("padding-right")),{container:n=window.matchMedia("(max-width: 850px)").matches?c-a:524,content:n-i-t});e.addClass("active"),o.width(c.container),r.width(c.content)}$(".products-menu__title").on("click",function(e){e.preventDefault();var e=$(e.currentTarget).closest(".products-menu__item"),t=e.hasClass("active"),n=e.closest(".products-menu");t?a(n):(a(n),i(e))})}(),$(".form").submit(function(e){e.preventDefault();var e=$(e.currentTarget),t=e.find("[name='name']"),n=e.find("[name='phone']"),a=e.find("[name='comment']"),i=e.find("[name='to']"),o=$("#modal"),r=o.find(".modal__content");o.removeClass("error-modal"),o=e,[t,n,a,i].forEach(function(e){e.removeClass("input-error"),""==e.val().trim()&&e.addClass("input-error")}),0==o.find(".input-error").length&&((e=$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:t.val(),phone:n.val(),comment:a.val(),to:i.val()}})).done(function(e){r.text(e.message)}),e.fail(function(){r.text("Произошла ошибка")}),e.always(function(){$.fancybox.open({src:"#modal",type:"inline"})}))}),$(".app-submit-btn").click(function(e){e.preventDefault(),$.fancybox.close()}),function(){function a(e){var t;s||(s=!0,t=d(e),l(e),n.css({transform:"translateY(".concat(t,"%)")}),u(o,e,"active"),setTimeout(function(){s=!1,u(c,e,"fixed-menu__item--active")},1e3))}function i(){var e=o.filter(".active"),t=e.next(),n=e.prev();return{next:function(){t.length&&a(t.index())},prev:function(){n.length&&a(n.index())}}}var o=$("section"),n=$(".maincontent"),r=$(".fixed-menu"),c=r.find(".fixed-menu__item"),e=new MobileDetect(window.navigator.userAgent).mobile(),s=!1,d=(o.first().addClass("active"),function(e){e*=-100;return isNaN(e)?(console.error("передано неверное значение в countSectionPosition"),0):e}),l=function(e){var e=o.eq(e).attr("data-sidemenu-theme"),t=$(".fixed-menu__link");"black"===e?(r.addClass("fixed-menu--shadowed"),t.addClass("fixed-menu__link--shadowed")):(r.removeClass("fixed-menu--shadowed"),t.removeClass("fixed-menu__link--shadowed"))},u=function(e,t,n){e.eq(t).addClass(n).siblings().removeClass(n)};$(window).on("wheel",function(e){var e=e.originalEvent.deltaY,t=i();0<e&&t.next(),e<0&&t.prev()}),$(window).on("keydown",function(e){var t=e.target.tagName.toLowerCase(),t="input"===t||"textarea"===t,n=i();if(!t)switch(e.keyCode){case 38:n.prev();break;case 40:n.next()}}),$(".wrapper").on("touchmove",function(e){return e.preventDefault()}),$("[data-scroll-to]").click(function(e){e.preventDefault();e=$(e.currentTarget).attr("data-scroll-to"),e=$("[data-section-id=".concat(e,"]"));a(e.index())}),e&&$("body").swipe({swipe:function(e,t){var n=i(),t="down"===t?"prev":"up"===t?"next":"";t&&n[t]()}})}(),$(".interactive-avatar__link").click(function(e){e.preventDefault();var n,e=$(e.currentTarget),t=e.attr("data-open"),t=(n=t,$(".review__item").filter(function(e,t){return $(t).attr("data-linked-with")===n})),e=e.closest(".review__switcher-item",".interactive-avatar");t.addClass("review__item--active").siblings().removeClass("review__item--active"),e.addClass("interactive-avatar--active").siblings().removeClass("interactive-avatar--active")}),function(){var t=$(".products__list").bxSlider({pager:!1,controls:!1});$(".products__arrow--prev").click(function(e){e.preventDefault(),t.goToPrevSlide()}),$(".products__arrow--next").click(function(e){e.preventDefault(),t.goToNextSlide()})}(),function(){function o(e){(e=e.find(".team__content")).height(0),e.closest(".team__item").removeClass("active")}$(".team__title").on("click",function(e){var e=$(e.currentTarget),t=e.closest(".team"),n=e.closest(".team__item"),a=e.find(".team__title-svg-path"),i=t.find(".team__title-svg-path");n.hasClass("active")?(o(t),a.attr("xlink:href","/src/img/sprite.svg#down")):(o(t),n=(n=e).closest(".team__item"),t=n.find(".team__content"),e=t.find(".team__content-main").outerHeight(),n.addClass("active"),t.height(e),i.attr("xlink:href","/src/img/sprite.svg#down"),a.attr("xlink:href","/src/img/sprite.svg#up"))})}(),function(){var e,t,n=document.querySelector(".video__player-img"),a=document.getElementById("player"),i=document.querySelector(".duration__img"),o=document.getElementById("durationLevel"),r=document.getElementById("micLevel"),c=document.getElementById("soundBtn"),s=document.getElementById("dynamic");function d(){n.classList.toggle("video__player-img--active"),i.classList.toggle("duration__img-pause"),a.paused?(a.play(),e=setInterval(u,1e3/60)):(clearInterval(e),a.pause())}function l(){a.currentTime=o.value,u()}function u(){o.value=a.currentTime;var e=a.duration/100,e=a.currentTime/e;o.style.background="linear-gradient(90deg, #FEDB3F 0%, #FEDB3F ".concat(e,"%, #626262 ").concat(e,"%)")}function m(){a.volume=r.value/10,0===a.volume?c.classList.add("active"):c.classList.remove("active")}function v(){0===a.volume?(a.volume=t,r.value=10*t,c.classList.remove("active")):(t=a.volume,a.volume=0,r.value=0,c.classList.add("active"))}window.addEventListener("load",function(){a.addEventListener("click",d);for(var e=document.querySelectorAll(".play"),t=0;t<e.length;t++)e[t].addEventListener("click",d);o.min=0,o.value=0,o.max=a.duration,o.addEventListener("input",l),r.min=0,r.max=10,r.value=r.max,r.addEventListener("input",m),s.addEventListener("click",v)}),a.addEventListener("ended",function(){n.classList.toggle("video__player-img--active"),i.classList.remove("duration__img-pause"),a.currentTime=0})}();